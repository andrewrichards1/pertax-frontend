@(userResearchLinkUrl: Option[String],
  incomeCards: Seq[Html],
  benefitCards: Seq[Html],
  pensionCards: Seq[Html]
)(implicit pertaxContext: PertaxContext, messages: play.api.i18n.Messages)

@import tags._
@import uk.gov.hmrc.play.views.formatting.Money.pounds
@import models.PertaxUser
@import models.PertaxUser._
@import pertaxContext.configDecorator._

@main(Messages("label.your_personal_tax_account"),Some(Messages("label.your_personal_tax_account"))) {

  @userResearchLinkUrl.map { userResearchLinkUrl =>

    <div class="page-heading no-padding-bottom no-border">
      <h1 class="heading-xlarge no-margin-bottom">
        @ifNameAvailable {
          @pertaxContext.user.flatMap(_.name.map(upperCaseToTitleCase))
        }
        @unlessNameAvailable {
          @Messages("label.your_account")
        }
      </h1>
    </div>

    <div class="notice-banner">
      <div class="notice-banner__wrapper">
        <h3 class="notice-banner__content">@Messages("label.we_want_to_make_this_website_easier_to_use")</h3>
        <a class="notice-banner__content trackLink" href="@userResearchLinkUrl" target="_blank">@Messages("label.help_us_with_our_research_opens_in_new_window")</a>
      </div>
    </div>

  }.getOrElse {

    <div class="page-header home" role="heading">
      <div class="page-info">@Messages("label.account_home")</div>
      <h1 class="heading-xlarge no-margin-top no-margin-bottom">
        @ifNameAvailable {
          @pertaxContext.user.flatMap(_.name.map(upperCaseToTitleCase))
        }
        @unlessNameAvailable {
          @Messages("label.your_account")
        }
      </h1>
    </div>

  }

  <div class="grid-row pertax-home">
    <div class="column-full" role="main">

      <section>
        <h2 class="section-header">@Messages("title.income")</h2>
        <div class="grid-row">
          @incomeCards
        </div>
      </section>

      <section>
        <h2 class="section-header">@Messages("title.benefits")</h2>
        <div class="grid-row">
          @benefitCards
        </div>
      </section>

      <section>
        <h2 class="section-header">@Messages("title.pensions")</h2>
        <div class="grid-row">
          @pensionCards
        </div>
      </section>

    </div>
  </div>
}
